/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.0
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
function FastClick(e){"use strict";var t;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=e;if(FastClick.notNeeded(e)){return}function i(e,t){return function(){return e.apply(t,arguments)}}if(deviceIsAndroid){e.addEventListener("mouseover",i(this.onMouse,this),true);e.addEventListener("mousedown",i(this.onMouse,this),true);e.addEventListener("mouseup",i(this.onMouse,this),true)}e.addEventListener("click",i(this.onClick,this),true);e.addEventListener("touchstart",i(this.onTouchStart,this),false);e.addEventListener("touchmove",i(this.onTouchMove,this),false);e.addEventListener("touchend",i(this.onTouchEnd,this),false);e.addEventListener("touchcancel",i(this.onTouchCancel,this),false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,i,s){var n=Node.prototype.removeEventListener;if(t==="click"){n.call(e,t,i.hijacked||i,s)}else{n.call(e,t,i,s)}};e.addEventListener=function(t,i,s){var n=Node.prototype.addEventListener;if(t==="click"){n.call(e,t,i.hijacked||(i.hijacked=function(e){if(!e.propagationStopped){i(e)}}),s)}else{n.call(e,t,i,s)}}}if(typeof e.onclick==="function"){t=e.onclick;e.addEventListener("click",function(e){t(e)},false);e.onclick=null}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);var deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(e.className)};FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};FastClick.prototype.sendClick=function(e,t){"use strict";var i,s;if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}s=t.changedTouches[0];i=document.createEvent("MouseEvents");i.initMouseEvent(this.determineEventType(e),true,true,window,1,s.screenX,s.screenY,s.clientX,s.clientY,false,false,false,false,0,null);i.forwardedTouchEvent=true;e.dispatchEvent(i)};FastClick.prototype.determineEventType=function(e){"use strict";if(deviceIsAndroid&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(e){"use strict";var t;if(deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};FastClick.prototype.updateScrollParent=function(e){"use strict";var t,i;t=e.fastClickScrollParent;if(!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i;e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}if(t){t.fastClickLastScrollTop=t.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};FastClick.prototype.onTouchStart=function(e){"use strict";var t,i,s;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);i=e.targetTouches[0];if(deviceIsIOS){s=window.getSelection();if(s.rangeCount&&!s.isCollapsed){return true}if(!deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=i.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=i.pageX;this.touchStartY=i.pageY;if(e.timeStamp-this.lastClickTime<200){e.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],i=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i){return true}return false};FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(e){"use strict";if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(e){"use strict";var t,i,s,n,r,a=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;i=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){r=e.changedTouches[0];a=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}s=a.tagName.toLowerCase();if(s==="label"){t=this.findControl(a);if(t){this.focus(a);if(deviceIsAndroid){return false}a=t}}else if(this.needsFocus(a)){if(e.timeStamp-i>100||deviceIsIOS&&window.top!==window&&s==="input"){this.targetElement=null;return false}this.focus(a);this.sendClick(a,e);if(!deviceIsIOS4||s!=="select"){this.targetElement=null;e.preventDefault()}return false}if(deviceIsIOS&&!deviceIsIOS4){n=a.fastClickScrollParent;if(n&&n.fastClickLastScrollTop!==n.scrollTop){return true}}if(!this.needsClick(a)){e.preventDefault();this.sendClick(a,e)}return false};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(e){"use strict";if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};FastClick.prototype.onClick=function(e){"use strict";var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};FastClick.prototype.destroy=function(){"use strict";var e=this.layer;if(deviceIsAndroid){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(e){"use strict";var t;var i;if(typeof window.ontouchstart==="undefined"){return true}i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(i){if(deviceIsAndroid){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(i>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(e.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(e){"use strict";return new FastClick(e)};if(typeof define!=="undefined"&&define.amd){define(function(){"use strict";return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}function lazyload(e){var t=e.id?document.getElementById(e.id):document;if(t===null)return;var i=t.getElementsByTagName("img"),s=i.length,n=[];for(var r=0;r<s;r++){var a=i[r];if(a.getAttribute("data-src")!==null){if(l(a)){d(a)}else{n.push(a)}}}var o=n.length;function c(){for(var e=0,t=o;e<t;e++){var i=n[e];if(l(i)){u(i);n.splice(e,1);o--;if(o===0){h()}}}}function l(t){var i=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;if(typeof t==="undefined")return false;var s=~~t.getAttribute("data-range")||e.lazyRange;var n=i+document.documentElement.clientHeight+s;var r=0;while(t.tagName.toUpperCase()!=="BODY"){r+=t.offsetTop;t=t.offsetParent}return n>r}function u(t){if(e.lazyTime){setTimeout(function(){d(t)},e.lazyTime+~~t.getAttribute("data-time"))}else{d(t)}}function d(e){e.src=e.getAttribute("data-src");e.classList.remove("lazyloading")}function h(){window.removeEventListener?window.removeEventListener("scroll",c,false):window.detachEvent("onscroll",c)}h();window.addEventListener?window.addEventListener("scroll",c,false):window.attachEvent("onscroll",c)}var GztShare={_init:function(e){this.options=e;this.render();this.controls()},render:function(){var e=document.createElement("section");e.classList.add("share-box");var t='<div class="bg"></div>';var i='<div class="body">'+'<div class="hd">分享到</div>'+'<ul class="bd">'+"<li>"+'<i class="wx"></i>'+"<span>微信</span>"+"</li>"+"<li>"+'<i class="wx-zone"></i>'+"<span>朋友圈</span>"+"</li>"+"<li>"+'<i class="qq"></i>'+"<span>QQ好友</span>"+"</li>"+"<li>"+'<i class="qq-zone"></i>'+"<span>QQ空间</span>"+"</li>"+"</ul>"+'<div class="btn-cancel">取消</div>'+"</div>";if(this.options.two){var s='<div class="section">'+'<div class="hd">分享</div>'+'<ul class="bd">'+"<li>"+'<i class="icon-gzt"></i>'+"<span>"+this.options.params[0].name+"</span>"+"</li>"+"<li>"+'<i class="icon-app"></i>'+"<span>"+this.options.params[1].name+"</span>"+"</li>"+"</ul>"+'<div class="btn-cancel">取消</div>'+"</div>";t+=s+i;e.innerHTML=t;e.querySelector(".section").style.display="block";e.querySelector(".body").style.display="none"}else{t+=i;e.innerHTML=t;e.querySelector(".body").style.display="block"}document.querySelector("body").appendChild(e);this.shareBox=e;this.shareBg=this.shareBox.querySelector(".bg");this.shareBtnCancel=this.shareBox.querySelector(".body .btn-cancel");if(this.options.two){this.shareSection=this.shareBox.querySelector(".section");this.shareBtnCancelOne=this.shareSection.querySelector(".btn-cancel")}this.shareBody=this.shareBox.querySelector(".body");this.shareParams={};if(!this.options.two){var n=this.options.params;this.shareParams.url=n[0].url;this.shareParams.title=n[0].title;this.shareParams.desc=n[0].desc;this.shareParams.img=n[0].img}},controls:function(){var e=this;if(e.options.selector){document.querySelector(e.options.selector).onclick=function(){if(e.options.two){e.shareSection.style.display="block";e.shareBody.style.display="none"}else{e.shareBody.style.display="block"}e.shareTo()}}else{e.shareTo()}},shareTo:function(){var e=this,t=e.core();if(t=="android"){e.shareDialog(function(t,i){e.shareFn(i)})}else if(t=="ios"){e.shareDialog(function(e,t){})}else{e.shareDialog(function(t,i){e.shareFn(i)})}},iosShareFn:function(){var e=this.shareParams.title,t=this.shareParams.desc,i=this.shareParams.url,s=this.shareParams.img;window.WebViewBridge.send("share"+"$$"+e+"$$"+t+"$$"+i+"$$"+s)},shareFn:function(e){var t=this.core(),i=this.shareParams.url,s="",n=this.shareParams.title,r=this.shareParams.desc,a=1,o=this.shareParams.img;switch(e){case 0:s=3;break;case 1:s=4;break;case 2:s=1;break;case 3:s=2;break;default:s=3}window.shareInterJs.setShere(i,s,n,r,a,o)},shareDialog:function(e){var t=this,i=t.core();if(i=="ios"){if(t.options.two){t.shareBox.style.display="block";t.wpAnimate(t.shareBox,"slideInUp");if(t.options.two){var s=function(){t.shareBg.removeEventListener("click",s,false);t.shareBtnCancelOne.removeEventListener("click",s,false);t.wpAnimate(t.shareBox,"slideOutDown",function(){t.shareBox.style.display="none"})};t.shareBg.addEventListener("click",s,false);t.shareBtnCancelOne.addEventListener("click",s,false);[].forEach.call(t.shareSection.querySelectorAll(".bd li"),function(e,i){e.onclick=function(){var e=t.options.params;t.shareParams.url=e[i].url;t.shareParams.title=e[i].title;t.shareParams.desc=e[i].desc;t.shareParams.img=e[i].img;t.shareSection.style.display="none";t.shareBox.style.display="none";t.iosShareFn()}})}}else{t.shareBox.style.display="none";t.iosShareFn()}}else{t.shareBox.style.display="block";t.wpAnimate(t.shareBox,"slideInUp");var s=function(){t.shareBg.removeEventListener("click",s,false);t.shareBtnCancel.removeEventListener("click",s,false);if(t.options.two){t.shareBtnCancelOne.removeEventListener("click",s,false)}t.wpAnimate(t.shareBox,"slideOutDown",function(){t.shareBox.style.display="none"})};t.shareBg.addEventListener("click",s,false);t.shareBtnCancel.addEventListener("click",s,false);if(t.options.two){t.shareBtnCancelOne.addEventListener("click",s,false)}[].forEach.call(t.shareBody.querySelectorAll(".bd li"),function(i,s){i.onclick=function(){t.shareBox.style.display="none";e&&e(i,s)}});if(t.options.two){[].forEach.call(t.shareSection.querySelectorAll(".bd li"),function(e,i){e.onclick=function(){var e=t.options.params;t.shareParams.url=e[i].url;t.shareParams.title=e[i].title;t.shareParams.desc=e[i].desc;t.shareParams.img=e[i].img;t.shareSection.style.display="none";t.shareBody.style.display="block"}})}}},wpAnimate:function(e,t,i){e.classList.add("animatedFast");e.classList.add(t);this.one(e,this.detectAnimationEndEvents(),function(){e.classList.remove("animatedFast");e.classList.remove(t);i&&i(e)})},detectAnimationEndEvents:function(){var e;var t=document.createElement("wangpq");var i={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"};for(e in i){if(t.style[e]!==undefined){return i[e]}}},one:function(e,t,i){var s=function(){i();e.removeEventListener(t,s)};e.addEventListener(t,s)},core:function(){var e=navigator.userAgent;if(e.indexOf("Android")>-1||e.indexOf("Adr")>-1){return"android"}else if(!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){return"ios"}else{return"other"}}};function updateShere(e){if(GztShare.core()=="ios"){try{window.WebViewBridge.send("closeWebview")}catch(e){}}else{document.querySelector(".share-box").style.display="none"}}function toast(e,t){showToast(e);window.setTimeout(function(){hideToast(e)},t?t:1800)}function showToast(e){if(document.querySelector(".toast")==null){var t=document.createElement("div");t.classList.add("toast");t.innerHTML='<div class="tip">'+e+"</div>";document.body.appendChild(t)}else{document.querySelector(".toast .tip").innerHTML=e;document.querySelector(".toast").classList.remove("invisible")}}function hideToast(e){document.querySelector(".toast").classList.add("invisible")}function getUrlParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(t);if(i!=null)return decodeURIComponent(i[2]);return null}function historyBack(){var e=getUrlParam("platform")||core();if(e=="ios"){try{window.WebViewBridge.send("closeWebview")}catch(e){window.history.back(-1)}}else if(e=="android"){window.history.back(-1)}else{window.history.back(-1)}}function ajax(e){e=e||{};e.type=(e.type||"GET").toUpperCase();e.dataType=e.dataType||"json";var t=formatParams(e.data);if(window.XMLHttpRequest){var i=new XMLHttpRequest}else{var i=new ActiveXObject("Microsoft.XMLHTTP")}e.beforeSend&&e.beforeSend();i.onreadystatechange=function(){if(i.readyState==4){var t=i.status;if(t>=200&&t<300){e.success&&e.success(i.responseText,i.responseXML)}else{e.fail&&e.fail(t)}}};if(e.type=="GET"){i.open("GET",e.url+"?"+t,true);i.send(null)}else if(e.type=="POST"){i.open("POST",e.url,true);i.send(JSON.stringify(e.data))}}function formatParams(e){var t=[];for(var i in e){t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]))}t.push(("v="+Math.random()).replace(".",""));return t.join("&")}